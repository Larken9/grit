---
import '../styles/global.css';
import Footer from '../components/footer.astro';
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Ensure all relative URLs resolve from the correct base -->
    <base href={import.meta.env.BASE_URL} />

    <title>Grit Strength & Conditioning</title>
  </head>

  <body class="font-sans text-gray-900">
    <!-- NAVIGATION -->
    <nav class="fixed top-0 left-0 w-full z-50 bg-transparent backdrop-blur-sm">
      <div class="container mx-auto flex items-center justify-between px-8 py-4">
        <!-- Logo -->
        <a href="/">
          <img src="/images/logo-grit.webp" alt="GritSC Logo" class="h-10 w-auto" />
        </a>

        <!-- Desktop Links -->
    <ul class="hidden md:flex space-x-6 text-white uppercase text-sm">
      <li><a href="/">Home</a></li>
      <li><a href="hotyoga/">Hot Yoga</a></li>
      <li><a href="membership/">Membership</a></li>
      <li><a href="classes/">Classes</a></li>
      <li><a href="personal-training/">Personal Training</a></li>
      <li><a href="schedules/">Schedules</a></li>
      <li><a href="contact/">Contact</a></li>
    </ul>

    <!-- Desktop Join Button -->
    <div class="hidden md:flex items-center">
      <a href="#join" class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold">Join Us</a>
    </div>

    <!-- Mobile Hamburger -->
    <button
      id="mobile-menu-button"
      class="md:hidden text-white focus:outline-none"
      aria-label="Toggle mobile menu"
      onclick="toggleMobileMenu()"
    >
      <!-- Hamburger Icon -->
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Mobile Slide-Out Menu -->
  <div id="mobile-menu" class="$1 bg-opacity-75"
  >
    <div class="p-6">
      <!-- Close Button -->
      <button
        class="mb-6 text-white focus:outline-none"
        aria-label="Close menu"
        onclick="toggleMobileMenu()"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>

      <!-- Mobile Links -->
      <ul class="space-y-4 uppercase text-white">
        <li><a href="/" onclick="toggleMobileMenu()">Home</a></li>
        <li><a href="hotyoga/" onclick="toggleMobileMenu()">Hot Yoga</a></li>
        <li><a href="membership/" onclick="toggleMobileMenu()">Membership</a></li>
        <li><a href="classes/" onclick="toggleMobileMenu()">Classes</a></li>
        <li><a href="personal-training/" onclick="toggleMobileMenu()">Personal Training</a></li>
        <li><a href="schedules/" onclick="toggleMobileMenu()">Schedules</a></li>
        <li><a href="contact/" onclick="toggleMobileMenu()">Contact</a></li>
        <li>
          <a
            href="#join"
            class="block mt-4 bg-white text-black px-4 py-2 rounded-full text-sm font-semibold"
            onclick="toggleMobileMenu()"
          >Join Us</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- PAGE CONTENT -->
<slot />

<!-- GLOBAL FOOTER -->
<Footer />

<!-- MOBILE MENU TOGGLE SCRIPT -->
<script>
  function toggleMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    if (!menu) return;
    menu.classList.toggle('-translate-x-full');
  }
  window.toggleMobileMenu = toggleMobileMenu;
</script>